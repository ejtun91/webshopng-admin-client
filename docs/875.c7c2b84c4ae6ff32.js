"use strict";(self.webpackChunkweb_admin=self.webpackChunkweb_admin||[]).push([[875],{2875:(N,d,o)=>{o.r(d),o.d(d,{CategoriesModule:()=>M,routes:()=>f});var a=o(6895),c=o(6684),y=o(1740),u=o(5593),C=o(433),h=o(3137),Z=o(947),x=o(7579),v=o(2722),t=o(1571),b=o(1026),l=o(805),T=o(2453),A=o(4247),S=o(1383),g=o(7318),U=o(2137);function L(s,i){1&s&&(t.TgZ(0,"tr")(1,"th",10),t._uU(2,"Name"),t._UZ(3,"p-sortIcon",11),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Icon"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Color"),t.qZA(),t._UZ(8,"th"),t.qZA())}const $=function(s){return{color:s}};function J(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"i",12),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"i",13),t.qZA(),t.TgZ(7,"td")(8,"p-button",14),t.NdJ("click",function(){const r=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteCategory(r.id))}),t.qZA(),t.TgZ(9,"p-button",15),t.NdJ("click",function(){const r=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.updateCategory(r.id))}),t.qZA()()()}if(2&s){const e=i.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngClass","pi-"+e.icon),t.xp6(2),t.Q6J("ngStyle",t.VKq(3,$,e.color))}}const z=function(){return{width:"50vw"}},f=[{path:"",component:(()=>{class s{constructor(e,n,p,r){this.categoriesService=e,this.messageService=n,this.confirmationService=p,this.router=r,this.categories=[],this.endsubs$=new x.x}ngOnInit(){this._getCategories()}deleteCategory(e){this.confirmationService.confirm({message:"Are you sure that you want to delete this category?",header:"Delete Category",icon:"pi pi-exclamation-triangle",accept:()=>{this.categoriesService.deleteCategory(e).pipe((0,v.R)(this.endsubs$)).subscribe({next:()=>{this._getCategories(),this.messageService.add({severity:"success",summary:"Success",detail:"Category is deleted!"})},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Category is not deleted!"})}})}})}updateCategory(e){this.router.navigateByUrl(`categories/form/${e}`)}_getCategories(){this.categoriesService.getCategories().pipe((0,v.R)(this.endsubs$)).subscribe(e=>{this.categories=e})}ngOnDestroy(){this.endsubs$.next(null),this.endsubs$.complete()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(b.G),t.Y36(l.ez),t.Y36(l.YP),t.Y36(c.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["admin-categories-list"]],decls:14,vars:5,consts:[[1,"admin-page"],["header","Categories","subheader","List of all categories"],[1,"grid"],[1,"col-12"],[1,"p-toolbar-group-left"],["routerLink","form","styleClass","p-button-success","label","New","icon","pi pi-plus"],["responsiveLayout","scroll","styleClass","p-datatable-gridlines",3,"value"],["pTemplate","header"],["pTemplate","body"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["pSortableColumn","name"],["field","name"],[1,"pi",2,"font-size","2.5rem",3,"ngClass"],[1,"pi","pi-circle-on",2,"font-size","2rem",3,"ngStyle"],["styleClass","p-button-danger mr-2","icon","pi pi-trash",3,"click"],["styleClass","p-button-success","icon","pi pi-pencil",3,"click"]],template:function(e,n){1&e&&(t._UZ(0,"p-toast"),t.TgZ(1,"div",0)(2,"p-card",1)(3,"div",2)(4,"div",3)(5,"p-toolbar")(6,"div",4),t._UZ(7,"p-button",5),t.qZA()()()(),t.TgZ(8,"div",2)(9,"div",3)(10,"p-table",6),t.YNc(11,L,9,0,"ng-template",7),t.YNc(12,J,10,5,"ng-template",8),t.qZA()()()()(),t._UZ(13,"p-confirmDialog",9)),2&e&&(t.xp6(10),t.Q6J("value",n.categories),t.xp6(3),t.Akn(t.DdM(4,z)),t.Q6J("baseZIndex",1e4))},dependencies:[a.mk,a.PC,c.rH,u.zx,T.FN,l.jx,A.Z,S.o,g.iA,g.lQ,g.fz,U.Q],encapsulation:2}),s})()},{path:"form",component:h.C},{path:"form/:id",component:h.C}];let M=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[a.ez,c.Bz.forChild(f),y.j,u.hJ,C.u5,Z.m,C.UX]}),s})()}}]);